{# templates/category/index.html.twig #}
{# {% extends 'base.html.twig' %}

{% block body %}
    <div class="category-container">
        {% for category in categories %}
            <div class="category-card">
                <img src="{{ asset('uploads/categories/' ~ category.image) }}" alt="{{ category.name }}" onclick="openModal({{ category.id }})">
                <h2>{{ category.name }}</h2>
            </div>
        {% endfor %}
    </div>

    <!-- Modal -->
    <div id="categoryModal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <h2 id="modalCategoryName"></h2>
            <div id="modalMenuItems"></div>
        </div>
    </div>

    <script>
        function openModal(categoryId) {
            fetch(`/category/${categoryId}/items`)
                .then(response => response.json())
                .then(data => {
                    document.getElementById('modalCategoryName').textContent = data.category.name;
                    let itemsHtml = '';
                    data.menuItems.forEach(item => {
                        itemsHtml += `
                            <div class="menu-item">
                                <h3>${item.name}</h3>
                                <p>Composition: ${item.composition}</p>
                                <p>Prix: ${item.prix} €</p>
                            </div>
                        `;
                    });
                    document.getElementById('modalMenuItems').innerHTML = itemsHtml;
                    document.getElementById('categoryModal').style.display = 'block';
                });
        }

        function closeModal() {
            document.getElementById('categoryModal').style.display = 'none';
        }
    </script>
{% endblock %} #}
{% extends 'base.html.twig' %}

{% block body %}
{{ include('/component/navbar.html.twig') }}
<div class="example">
    <h1>Menu</h1>
    <div class="category-container">
    {% for category in categories %}
            <div class="category-card">
                <img src="{{ asset('uploads/categories/' ~ category.image) }}" alt="{{ category.name }}" onclick="openModal({{ category.id }})">
                <h2>{{ category.name }}</h2>
            </div>
        {% endfor %}
        
    </div>
</div>
    <!-- Modal -->
    {# <div id="categoryModal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <h2 id="modalCategoryName"></h2>
            <div id="modalMenuItems"></div>
        </div>
    </div> #}

    {# // <script>
    //     function openModal(categoryId) {
    //         fetch(`/category/${categoryId}/items`)
    //             .then(response => response.json())
    //             .then(data => {
    //                 document.getElementById('modalCategoryName').textContent = data.category.name;
    //                 let itemsHtml = '';
    //                 data.menuItems.forEach(item => {
    //                     itemsHtml += `
    //                         <div class="menu-item">
    //                             <h3>${item.name}</h3>
    //                             <p>${item.description}</p>
    //                             <p>${item.price} €</p>
    //                         </div>
    //                     `;
    //                 });
    //                 document.getElementById('modalMenuItems').innerHTML = itemsHtml;
    //                 document.getElementById('categoryModal').style.display = 'block';
    //             });
    //     }

    //     function closeModal() {
    //         document.getElementById('categoryModal').style.display = 'none';
    //     }
    // </script> #}
{% endblock %}