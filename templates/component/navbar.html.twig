{% extends 'base.html.twig' %}
{% block body %}

    <nav class="navbar">
    <div class="burger">
        <div class="line1"></div>
        <div class="line2"></div>
        <div class="line3"></div>
    </div>
    <div class="close-btn">&times;</div>
    <div class="logo">
        <a href="{{ path('home') }}"><img src="{{ asset('images/logoR.svg') }}" alt="Logo"></a>
    </div>
    <ul class="nav-links">
        <li><a href="{{ path('home') }}">Accueil</a></li>
        <li><a href="{{ path('category') }}">Menu</a></li>
        <li><a href="{{ path('services') }}">Services</a></li>
        <li><a href="{{ path('contact') }}">Contact</a></li>
    </ul>
</nav>

    <script>
        // Initialisation d'EasyAdmin
    document.addEventListener('DOMContentLoaded', () => {
        window.EasyAdminApp = new App();

        // Script de gestion du menu burger
        const burger = document.querySelector('.burger');
        const closeBtn = document.querySelector('.close-btn');
        const navLinks = document.querySelector('.nav-links');

        burger.addEventListener('click', () => {
            navLinks.classList.toggle('nav-active');
            burger.classList.toggle('toggle');
            closeBtn.classList.toggle('show');
        });

        closeBtn.addEventListener('click', () => {
            navLinks.classList.remove('nav-active');
            closeBtn.classList.remove('show');
            burger.classList.remove('toggle');
        });

        // Fermer le menu lorsque l'utilisateur clique sur un lien
        document.querySelectorAll('.nav-links a').forEach(link => {
            link.addEventListener('click', () => {
                navLinks.classList.remove('nav-active');
                burger.classList.remove('toggle');
                closeBtn.classList.remove('show');
            });
        });

        // Sticky navbar on scroll
        window.addEventListener('scroll', function() {
            const navbar = document.querySelector('.navbar');
            if (window.scrollY > 50) {
                navbar.classList.add('sticky');
            } else {
                navbar.classList.remove('sticky');
            }
        });
    });

    // Classe App d'EasyAdmin adaptée
    class App {
        #sidebarWidthLocalStorageKey;
        #contentWidthLocalStorageKey;

        constructor() {
            this.#sidebarWidthLocalStorageKey = 'ea/sidebar/width';
            this.#contentWidthLocalStorageKey = 'ea/content/width';

            this.#removeHashFormUrl();
            this.#createMainMenu();
            this.#createLayoutResizeControls();
            this.#createNavigationToggler();
            this.#createSearchHighlight();
            this.#createFilters();
            this.#createAutoCompleteFields();
            this.#createBatchActions();
            this.#createModalWindowsForDeleteActions();
            this.#createPopovers();
            this.#createTooltips();

            document.addEventListener('ea.collection.item-added', () => this.#createAutoCompleteFields());
        }

        // Méthodes d'initialisation des fonctionnalités EasyAdmin
        #removeHashFormUrl() { /* Supprime le hash de l'URL pour le formulaire */ }
        #createMainMenu() { /* Gestion des menus et sous-menus */ }
        #createLayoutResizeControls() { /* Gestion de la redimension des éléments */ }
        #createNavigationToggler() { /* Gestion des toggles de navigation */ }
        #createSearchHighlight() { /* Gestion de la recherche et de la surbrillance */ }
        #createFilters() { /* Gestion des filtres de la datagrid */ }
        #createAutoCompleteFields() { /* Gestion des champs de saisie automatique */ }
        #createBatchActions() { /* Gestion des actions de groupe */ }
        #createModalWindowsForDeleteActions() { /* Gestion des fenêtres modales de suppression */ }
        #createPopovers() { /* Gestion des popovers */ }
        #createTooltips() { /* Gestion des tooltips */ }
    }
    </script>
    {% endblock %}

